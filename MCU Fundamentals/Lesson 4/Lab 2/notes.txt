This lab is with falling edge as rising edge don't work good with stm32 in proteus