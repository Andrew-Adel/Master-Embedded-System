/*
 * DC_motor.c
 *
 *  Created on: Aug 24, 2023
 *      Author: andre
 */


#include "DC_motor.h"
//extern pointer from DC_motor.h
extern void (*DC_State) ();
//Module Variable
unsigned int speed;
void (*DC_state) ();

void DC_init(void){
	// initialize US motor
	// Call US Driver or motors
	printf("DC_Init is Done");
}

// states function
STATE_define(DC_busy)
{
	//state action
	DC_state_id = DC_busy;
	//write to DC_Motor
	distance = US_distance_get(1);

	//Print
	printf("DC_busy state : distance=%d \n", distance);

	// send distance to CA
	DC_distance_get(distance);
	// change to next state (in US case, it always be busy state)
	DC_State = STATE(DC_idle);

	// Print
	printf("DC_Busy State : speed=%d \n\n\n", speed);
}

STATE_define(DC_idle)
{
	//state action
	DC_state_id = DC_idle;
	// change to next state (in US case, it always be busy state)
	DC_State = STATE(DC_idle);
	//Print
	printf("DC_busy state : distance=%d \n", distance);

}
